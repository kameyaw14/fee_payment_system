{
  "info": {
    "name": "Student Dashboard API",
    "_postman_id": "f6g7a8b9-0d1e-2f3g-4a5b-6c7d8e9f0a1b",
    "description": "Collection for testing the student dashboard endpoint",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Get Dashboard",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{jwt_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/v1/students/dashboard",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "students", "dashboard"]
        },
        "description": "Test successful dashboard access"
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/students/dashboard",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "students", "dashboard"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "body": "{\"success\": true, \"data\": {\"student\": {\"_id\": \"student_id\", \"name\": \"John Doe\", \"email\": \"student@example.com\", \"studentId\": \"SCHOOL-123\", \"department\": \"Computer Science\", \"yearOfStudy\": \"Freshman\", \"courses\": [\"CS101\", \"ENG201\"]}, \"payments\": [{\"_id\": \"payment_id\", \"amount\": 5000, \"feeId\": \"fee_id\", \"feeDetails\": {\"feeType\": \"Tuition\", \"academicSession\": \"2025/2026\", \"dueDate\": \"2025-12-01T00:00:00Z\"}, \"paymentProvider\": \"Paystack\", \"status\": \"confirmed\", \"receiptUrl\": \"cloudinary_url\", \"createdAt\": \"2025-08-06T00:00:00Z\"}], \"receipts\": [{\"_id\": \"receipt_id\", \"receiptNumber\": \"REC-001\", \"amount\": 5000, \"date\": \"2025-08-06T00:00:00Z\", \"pdfUrl\": \"cloudinary_url\", \"branding\": {\"logoUrl\": \"school_logo_url\", \"primaryColor\": \"#000000\"}}]}}"
        },
        {
          "name": "No Payments or Receipts",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/students/dashboard",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "students", "dashboard"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "body": "{\"success\": true, \"data\": {\"student\": {\"_id\": \"student_id\", \"name\": \"John Doe\", \"email\": \"student@example.com\", \"studentId\": \"SCHOOL-123\", \"department\": \"Computer Science\", \"yearOfStudy\": \"Freshman\", \"courses\": [\"CS101\", \"ENG201\"]}, \"payments\": [], \"receipts\": [], \"message\": \"No payments or receipts found for this student.\"}}"
        }
      ]
    },
    {
      "name": "Get Payments Only",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{jwt_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/v1/students/dashboard?data=payments",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "students", "dashboard"],
          "query": [
            {
              "key": "data",
              "value": "payments"
            }
          ]
        },
        "description": "Test fetching only payments"
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/students/dashboard?data=payments",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "students", "dashboard"],
              "query": [
                {
                  "key": "data",
                  "value": "payments"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "body": "{\"success\": true, \"data\": {\"student\": {\"_id\": \"student_id\", \"name\": \"John Doe\", \"email\": \"student@example.com\", \"studentId\": \"SCHOOL-123\", \"department\": \"Computer Science\", \"yearOfStudy\": \"Freshman\", \"courses\": [\"CS101\", \"ENG201\"]}, \"payments\": [{\"_id\": \"payment_id\", \"amount\": 5000, \"feeId\": \"fee_id\", \"feeDetails\": {\"feeType\": \"Tuition\", \"academicSession\": \"2025/2026\", \"dueDate\": \"2025-12-01T00:00:00Z\"}, \"paymentProvider\": \"Paystack\", \"status\": \"confirmed\", \"receiptUrl\": \"cloudinary_url\", \"createdAt\": \"2025-08-06T00:00:00Z\"}], \"receipts\": []}}"
        }
      ]
    },
    {
      "name": "Get Receipts Only",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{jwt_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/v1/students/dashboard?data=receipts",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "students", "dashboard"],
          "query": [
            {
              "key": "data",
              "value": "receipts"
            }
          ]
        },
        "description": "Test fetching only receipts"
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/students/dashboard?data=receipts",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "students", "dashboard"],
              "query": [
                {
                  "key": "data",
                  "value": "receipts"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "body": "{\"success\": true, \"data\": {\"student\": {\"_id\": \"student_id\", \"name\": \"John Doe\", \"email\": \"student@example.com\", \"studentId\": \"SCHOOL-123\", \"department\": \"Computer Science\", \"yearOfStudy\": \"Freshman\", \"courses\": [\"CS101\", \"ENG201\"]}, \"payments\": [], \"receipts\": [{\"_id\": \"receipt_id\", \"receiptNumber\": \"REC-001\", \"amount\": 5000, \"date\": \"2025-08-06T00:00:00Z\", \"pdfUrl\": \"cloudinary_url\", \"branding\": {\"logoUrl\": \"school_logo_url\", \"primaryColor\": \"#000000\"}]}}}"
        }
      ]
    },
    {
      "name": "Invalid Token",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer invalid_token"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/v1/students/dashboard",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "students", "dashboard"]
        },
        "description": "Test dashboard with invalid token"
      },
      "response": [
        {
          "name": "Unauthorized",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer invalid_token"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/students/dashboard",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "students", "dashboard"]
            }
          },
          "status": "Unauthorized",
          "code": 401,
          "_postman_previewlanguage": "json",
          "body": "{\"success\": false, \"message\": \"Unauthorized\"}"
        }
      ]
    },
    {
      "name": "Rate Limit Exceeded",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{jwt_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/v1/students/dashboard",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "students", "dashboard"]
        },
        "description": "Test Arcjet rate limiting by sending multiple requests"
      },
      "response": [
        {
          "name": "Rate Limit Exceeded",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/students/dashboard",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "students", "dashboard"]
            }
          },
          "status": "Too Many Requests",
          "code": 429,
          "_postman_previewlanguage": "json",
          "body": "{\"success\": false, \"message\": \"Rate limit exceeded. Please try again later.\"}"
        }
      ]
    },
    {
      "name": "Bot Detection",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{jwt_token}}"
          },
          {
            "key": "User-Agent",
            "value": "BotFramework/1.0"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/v1/students/dashboard",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "students", "dashboard"]
        },
        "description": "Test Arcjet bot detection with a bot user-agent"
      },
      "response": [
        {
          "name": "Bot Denied",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "User-Agent",
                "value": "BotFramework/1.0"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/students/dashboard",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "students", "dashboard"]
            }
          },
          "status": "Forbidden",
          "code": 403,
          "_postman_previewlanguage": "json",
          "body": "{\"success\": false, \"message\": \"Access denied for bots.\"}"
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:5500"
    },
    {
      "key": "jwt_token",
      "value": "your_jwt_token_here"
    }
  ]
}