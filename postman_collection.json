{
  "info": {
    "name": "School Dashboard API",
    "_postman_id": "g7h8i9j0-1k2l-3m4n-5o6p-7q8r9s0t1u2v",
    "description": "Collection for testing the school dashboard endpoint",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Get Dashboard",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{school_jwt_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/v1/school/dashboard",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "school", "dashboard"]
        },
        "description": "Test successful dashboard access"
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{school_jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/school/dashboard",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "school", "dashboard"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "body": "{\"success\": true, \"data\": {\"school\": {\"_id\": \"school_id\", \"name\": \"Example University\", \"email\": \"admin@example.com\", \"contactDetails\": {\"phone\": \"+233123456789\", \"address\": \"123 University Ave\"}, \"receiptBranding\": {\"logoUrl\": \"cloudinary_url\", \"primaryColor\": \"#000000\"}}, \"payments\": [{\"_id\": \"payment_id\", \"student\": {\"_id\": \"student_id\", \"name\": \"John Doe\", \"studentId\": \"SCHOOL-123\"}, \"fee\": {\"_id\": \"fee_id\", \"feeType\": \"Tuition\", \"academicSession\": \"2025/2026\", \"dueDate\": \"2025-12-01T00:00:00Z\"}, \"amount\": 5000, \"paymentProvider\": \"Paystack\", \"status\": \"confirmed\", \"receiptUrl\": \"cloudinary_url\", \"createdAt\": \"2025-08-06T00:00:00Z\"}], \"students\": [{\"_id\": \"student_id\", \"name\": \"John Doe\", \"email\": \"student@example.com\", \"studentId\": \"SCHOOL-123\", \"department\": \"Computer Science\", \"yearOfStudy\": \"Freshman\", \"courses\": [\"CS101\", \"ENG201\"]}], \"fees\": [{\"_id\": \"fee_id\", \"feeType\": \"Tuition\", \"amount\": 5000, \"dueDate\": \"2025-12-01T00:00:00Z\", \"academicSession\": \"2025/2026\", \"allowPartialPayment\": true}], \"reports\": {\"totalPayments\": 10000, \"pendingPayments\": 2, \"confirmedPayments\": 5, \"studentCount\": 10, \"overdueFees\": 3, \"requestedRefunds\": 1, \"approvedRefunds\": 0}}}"
        },
        {
          "name": "No Data",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{school_jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/school/dashboard",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "school", "dashboard"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "body": "{\"success\": true, \"data\": {\"school\": {\"_id\": \"school_id\", \"name\": \"Example University\", \"email\": \"admin@example.com\", \"contactDetails\": {\"phone\": \"+233123456789\", \"address\": \"123 University Ave\"}, \"receiptBranding\": {\"logoUrl\": \"cloudinary_url\", \"primaryColor\": \"#000000\"}}, \"payments\": [], \"students\": [], \"fees\": [], \"reports\": {}, \"message\": \"No data found for this school.\"}}"
        }
      ]
    },
    {
      "name": "Get Payments Only",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{school_jwt_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/v1/school/dashboard?data=payments",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "school", "dashboard"],
          "query": [
            {
              "key": "data",
              "value": "payments"
            }
          ]
        },
        "description": "Test fetching only payments"
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{school_jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/school/dashboard?data=payments",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "school", "dashboard"],
              "query": [
                {
                  "key": "data",
                  "value": "payments"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "body": "{\"success\": true, \"data\": {\"school\": {\"_id\": \"school_id\", \"name\": \"Example University\", \"email\": \"admin@example.com\", \"contactDetails\": {\"phone\": \"+233123456789\", \"address\": \"123 University Ave\"}, \"receiptBranding\": {\"logoUrl\": \"cloudinary_url\", \"primaryColor\": \"#000000\"}}, \"payments\": [{\"_id\": \"payment_id\", \"student\": {\"_id\": \"student_id\", \"name\": \"John Doe\", \"studentId\": \"SCHOOL-123\"}, \"fee\": {\"_id\": \"fee_id\", \"feeType\": \"Tuition\", \"academicSession\": \"2025/2026\", \"dueDate\": \"2025-12-01T00:00:00Z\"}, \"amount\": 5000, \"paymentProvider\": \"Paystack\", \"status\": \"confirmed\", \"receiptUrl\": \"cloudinary_url\", \"createdAt\": \"2025-08-06T00:00:00Z\"}], \"students\": [], \"fees\": [], \"reports\": {}}}"
        }
      ]
    },
    {
      "name": "Get Students Only",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{school_jwt_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/v1/school/dashboard?data=students",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "school", "dashboard"],
          "query": [
            {
              "key": "data",
              "value": "students"
            }
          ]
        },
        "description": "Test fetching only students"
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{school_jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/school/dashboard?data=students",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "school", "dashboard"],
              "query": [
                {
                  "key": "data",
                  "value": "students"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "body": "{\"success\": true, \"data\": {\"school\": {\"_id\": \"school_id\", \"name\": \"Example University\", \"email\": \"admin@example.com\", \"contactDetails\": {\"phone\": \"+233123456789\", \"address\": \"123 University Ave\"}, \"receiptBranding\": {\"logoUrl\": \"cloudinary_url\", \"primaryColor\": \"#000000\"}}, \"payments\": [], \"students\": [{\"_id\": \"student_id\", \"name\": \"John Doe\", \"email\": \"student@example.com\", \"studentId\": \"SCHOOL-123\", \"department\": \"Computer Science\", \"yearOfStudy\": \"Freshman\", \"courses\": [\"CS101\", \"ENG201\"]}], \"fees\": [], \"reports\": {}}}"
        }
      ]
    },
    {
      "name": "Get Fees Only",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{school_jwt_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/v1/school/dashboard?data=fees",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "school", "dashboard"],
          "query": [
            {
              "key": "data",
              "value": "fees"
            }
          ]
        },
        "description": "Test fetching only fees"
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{school_jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/school/dashboard?data=fees",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "school", "dashboard"],
              "query": [
                {
                  "key": "data",
                  "value": "fees"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "body": "{\"success\": true, \"data\": {\"school\": {\"_id\": \"school_id\", \"name\": \"Example University\", \"email\": \"admin@example.com\", \"contactDetails\": {\"phone\": \"+233123456789\", \"address\": \"123 University Ave\"}, \"receiptBranding\": {\"logoUrl\": \"cloudinary_url\", \"primaryColor\": \"#000000\"}}, \"payments\": [], \"students\": [], \"fees\": [{\"_id\": \"fee_id\", \"feeType\": \"Tuition\", \"amount\": 5000, \"dueDate\": \"2025-12-01T00:00:00Z\", \"academicSession\": \"2025/2026\", \"allowPartialPayment\": true}], \"reports\": {}}}"
        }
      ]
    },
    {
      "name": "Get Confirmed Payments",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{school_jwt_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/v1/school/dashboard?status=confirmed",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "school", "dashboard"],
          "query": [
            {
              "key": "status",
              "value": "confirmed"
            }
          ]
        },
        "description": "Test fetching confirmed payments"
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{school_jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/school/dashboard?status=confirmed",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "school", "dashboard"],
              "query": [
                {
                  "key": "status",
                  "value": "confirmed"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "body": "{\"success\": true, \"data\": {\"school\": {\"_id\": \"school_id\", \"name\": \"Example University\", \"email\": \"admin@example.com\", \"contactDetails\": {\"phone\": \"+233123456789\", \"address\": \"123 University Ave\"}, \"receiptBranding\": {\"logoUrl\": \"cloudinary_url\", \"primaryColor\": \"#000000\"}}, \"payments\": [{\"_id\": \"payment_id\", \"student\": {\"_id\": \"student_id\", \"name\": \"John Doe\", \"studentId\": \"SCHOOL-123\"}, \"fee\": {\"_id\": \"fee_id\", \"feeType\": \"Tuition\", \"academicSession\": \"2025/2026\", \"dueDate\": \"2025-12-01T00:00:00Z\"}, \"amount\": 5000, \"paymentProvider\": \"Paystack\", \"status\": \"confirmed\", \"receiptUrl\": \"cloudinary_url\", \"createdAt\": \"2025-08-06T00:00:00Z\"}], \"students\": [], \"fees\": [], \"reports\": {}}}"
        }
      ]
    },
    {
      "name": "Get Fees by Academic Session",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{school_jwt_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/v1/school/dashboard?academicSession=2025/2026",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "school", "dashboard"],
          "query": [
            {
              "key": "academicSession",
              "value": "2025/2026"
            }
          ]
        },
        "description": "Test fetching fees for a specific academic session"
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{school_jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/school/dashboard?academicSession=2025/2026",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "school", "dashboard"],
              "query": [
                {
                  "key": "academicSession",
                  "value": "2025/2026"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "body": "{\"success\": true, \"data\": {\"school\": {\"_id\": \"school_id\", \"name\": \"Example University\", \"email\": \"admin@example.com\", \"contactDetails\": {\"phone\": \"+233123456789\", \"address\": \"123 University Ave\"}, \"receiptBranding\": {\"logoUrl\": \"cloudinary_url\", \"primaryColor\": \"#000000\"}}, \"payments\": [], \"students\": [], \"fees\": [{\"_id\": \"fee_id\", \"feeType\": \"Tuition\", \"amount\": 5000, \"dueDate\": \"2025-12-01T00:00:00Z\", \"academicSession\": \"2025/2026\", \"allowPartialPayment\": true}], \"reports\": {}}}"
        }
      ]
    },
    {
      "name": "Invalid Token",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer invalid_token"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/v1/school/dashboard",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "school", "dashboard"]
        },
        "description": "Test dashboard with invalid token"
      },
      "response": [
        {
          "name": "Unauthorized",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer invalid_token"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/school/dashboard",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "school", "dashboard"]
            }
          },
          "status": "Unauthorized",
          "code": 401,
          "_postman_previewlanguage": "json",
          "body": "{\"success\": false, \"message\": \"Unauthorized\"}"
        }
      ]
    },
    {
      "name": "Rate Limit Exceeded",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{school_jwt_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/v1/school/dashboard",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "school", "dashboard"]
        },
        "description": "Test Arcjet rate limiting by sending multiple requests"
      },
      "response": [
        {
          "name": "Rate Limit Exceeded",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{school_jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/school/dashboard",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "school", "dashboard"]
            }
          },
          "status": "Too Many Requests",
          "code": 429,
          "_postman_previewlanguage": "json",
          "body": "{\"success\": false, \"message\": \"Rate limit exceeded. Please try again later.\"}"
        }
      ]
    },
    {
      "name": "Bot Detection",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{school_jwt_token}}"
          },
          {
            "key": "User-Agent",
            "value": "BotFramework/1.0"
          }
        ],
        "url": {
          "raw": "{{base_url}}/api/v1/school/dashboard",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "school", "dashboard"]
        },
        "description": "Test Arcjet bot detection with a bot user-agent"
      },
      "response": [
        {
          "name": "Bot Denied",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{school_jwt_token}}"
              },
              {
                "key": "User-Agent",
                "value": "BotFramework/1.0"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/school/dashboard",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "school", "dashboard"]
            }
          },
          "status": "Forbidden",
          "code": 403,
          "_postman_previewlanguage": "json",
          "body": "{\"success\": false, \"message\": \"Access denied for bots.\"}"
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:5500"
    },
    {
      "key": "school_jwt_token",
      "value": "your_school_jwt_token_here"
    }
  ]
}